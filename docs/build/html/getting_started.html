

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>GettingStarted &mdash; pacha v0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="pacha v0.2.0 documentation" href="index.html" />
    <link rel="next" title="Daemonization" href="daemon.html" />
    <link rel="prev" title="pacha’s documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="daemon.html" title="Daemonization"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pacha’s documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">pacha v0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="gettingstarted">
<span id="getting-started"></span><h1>GettingStarted<a class="headerlink" href="#gettingstarted" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>You will be able to quickly get started with this guide. The main goal is to get Pacha installed and running and having you backing up your configuration files. More advanced Pacha functions are not covered here.</p>
</div>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>We have 3 dependencies, make sure you have them installed and ready when installing Pacha:</p>
<blockquote>
<ul class="simple">
<li>SSH (versions 4.7p1 to 5.1p1)</li>
<li>Mercurial (versions 0.9.5 to 1.3.1)</li>
<li>Python (version 2.5 to 2.6)</li>
</ul>
</blockquote>
</div>
<div class="section" id="about-version-differences">
<h2>About version differences<a class="headerlink" href="#about-version-differences" title="Permalink to this headline">¶</a></h2>
<p>You should NOT use Pacha with different versions of Mercurial in different servers otherwise you will get undesired behavior when trying to rebuild a host. This would happen when functionality found in later versions of Mercurial will conflict with the older ones, hence the ability lack of being able to get the latest version of the files you need to rebuild.</p>
</div>
<div class="section" id="operating-systems">
<h2>Operating Systems<a class="headerlink" href="#operating-systems" title="Permalink to this headline">¶</a></h2>
<p>Pacha should work with any system that has the above installed. If you experience any issues let us know!</p>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>We recommend installing from the Python Package Index (PYPI):</p>
<div class="highlight-python"><pre>pip install pacha</pre>
</div>
<p>But you can also install from the latest version of Pacha from the <a class="reference external" href="http://code.google.com/p/pacha">http://code.google.com/p/pacha</a> Uncompress the contents:</p>
<div class="highlight-python"><pre>hg clone https://pacha.googlecode.com/hg/ pacha</pre>
</div>
<p>And run the following within the extracted directory:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
</div>
</div>
<div class="section" id="after-installation">
<h1>After Installation<a class="headerlink" href="#after-installation" title="Permalink to this headline">¶</a></h1>
<p>Remember to edit pacha.conf and run:
pacha &#8211;watch /opt/pacha/conf
This will keep track of all host specific configurations that will be needed
when rebuilding.</p>
<div class="section" id="edit-the-configuration-file">
<h2>Edit the configuration file<a class="headerlink" href="#edit-the-configuration-file" title="Permalink to this headline">¶</a></h2>
<p>After installing you need to edit the config file. Pacha needs to have this edited to be running properly. The config file should be located in: /opt/pacha/conf/pacha.conf</p>
</div>
<div class="section" id="verify-username-in-hgrc">
<h2>Verify username in HGRC<a class="headerlink" href="#verify-username-in-hgrc" title="Permalink to this headline">¶</a></h2>
<p>Mercurial needs to know what is the user that is going to make the changes. If you do not supply one the daemon will dye and you will get this error message next time you try to start:</p>
<div class="highlight-python"><pre>Pacha searched for a Mercurial username in the $HOME directory
and /etc/mercurial/hgrc but could not find one.
Mercurial needs a username provided:
But no username was supplied (see "hg help config")
[ui]
     username = Firstname Lastname &lt;firstname.lastname@example.net&gt;
     verbose = True</pre>
</div>
<p>So follow that above warning to add a username and avoid the daemon problem.</p>
</div>
<div class="section" id="master-slave-approach">
<h2>Master Slave approach<a class="headerlink" href="#master-slave-approach" title="Permalink to this headline">¶</a></h2>
<p>Pacha can run as a single instance but we want to accomplish a good configuration backup setup. Master/Slave is what we are going to cover here.</p>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="89%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">host</span></tt></td>
<td>Where is the Pacha master server running?. An IP or a FQDN works</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">port</span></tt></td>
<td>If you are running a different port other than 22 for SSH, edit this. No need to specify
if you have not changed the standard port.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">user</span></tt></td>
<td>The user Pacha will use to connect via SSH</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">path</span></tt></td>
<td>If you are running a different port other than 22 for SSH, edit this. No need to
specify if you have not changed the standard port.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We will not cover the rebuilding process here. Again, the goal is to have Pacha backing up configuration files in this guide.</p>
</div>
</div>
<div class="section" id="ssh-and-keys">
<h2>SSH and Keys<a class="headerlink" href="#ssh-and-keys" title="Permalink to this headline">¶</a></h2>
<p>Pacha is intended to be fully automated so you need to have your ssh keys associated with the user you set in the configuration file so it has read/write access to the location where Pacha is installed.</p>
</div>
<div class="section" id="tracking-configuration-files">
<h2>Tracking Configuration Files<a class="headerlink" href="#tracking-configuration-files" title="Permalink to this headline">¶</a></h2>
<p>First we need to create a directory where all the configuration files will be pushed. This is the way of &#8220;granting permissions&#8221; in the Pacha server. So in the master server run:</p>
</div>
<div class="section" id="sudo-pacha-add-host-hostname">
<h2>sudo pacha &#8211;add-host hostname<a class="headerlink" href="#sudo-pacha-add-host-hostname" title="Permalink to this headline">¶</a></h2>
<p>Replace &#8220;hostname&#8221; with the name of the machine you want to get configuration files from. NOTE: Pacha will not be able to push files if this is not done!</p>
<p>Pacha uses the &#8211;watch option to start tracking a directory. Let&#8217;s follow the recommendation when we finished installing Pacha. You can either be in the directory and run &#8211;watch or specify the path directly:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pacha</span> <span class="o">--</span><span class="n">watch</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">pacha</span><span class="o">/</span><span class="n">conf</span>
</pre></div>
</div>
<p>You are now all set!</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">GettingStarted</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#about-version-differences">About version differences</a></li>
<li><a class="reference internal" href="#operating-systems">Operating Systems</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#after-installation">After Installation</a><ul>
<li><a class="reference internal" href="#edit-the-configuration-file">Edit the configuration file</a></li>
<li><a class="reference internal" href="#verify-username-in-hgrc">Verify username in HGRC</a></li>
<li><a class="reference internal" href="#master-slave-approach">Master Slave approach</a></li>
<li><a class="reference internal" href="#ssh-and-keys">SSH and Keys</a></li>
<li><a class="reference internal" href="#tracking-configuration-files">Tracking Configuration Files</a></li>
<li><a class="reference internal" href="#sudo-pacha-add-host-hostname">sudo pacha &#8211;add-host hostname</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">pacha&#8217;s documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="daemon.html"
                        title="next chapter">Daemonization</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/getting_started.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="daemon.html" title="Daemonization"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="pacha’s documentation"
             >previous</a> |</li>
        <li><a href="index.html">pacha v0.2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Alfredo Deza.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0b2.
    </div>
  </body>
</html>